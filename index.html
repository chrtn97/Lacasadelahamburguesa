<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>POS Pro - La Casa de la Hamburguesa</title>
    <style>
        body { background-color: #f4e1d2; font-family: 'Arial', sans-serif; padding: 10px; }
        .contenedor { background: white; max-width: 500px; margin: 0 auto; padding: 20px; border-radius: 20px; border: 3px solid #e67e22; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        
        @media print {
            .no-imprimir { display: none !important; }
            body { background: white; padding: 0; }
            .contenedor { border: none; width: 100%; max-width: 100%; }
            .comanda { font-size: 24px !important; line-height: 1.4; }
            .total { font-size: 32px !important; }
        }

        .formulario { background: #fdf2e9; padding: 15px; border-radius: 10px; margin-bottom: 10px; border: 1px solid #e67e22; }
        label { font-weight: bold; display: block; margin-top: 10px; }
        input, select, textarea { width: 100%; padding: 12px; margin: 5px 0; border-radius: 8px; border: 1px solid #ccc; box-sizing: border-box; font-size: 16px; }
        
        #seccionBoneless { background: #fff3e0; border: 2px solid #d35400; padding: 10px; border-radius: 8px; margin-top: 10px; display: none; }

        .opciones-especiales { background: #fff; padding: 10px; border-radius: 8px; margin-top: 10px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .opciones-especiales label { font-size: 14px; display: flex; align-items: center; margin: 0; font-weight: normal; }
        .opciones-especiales input { width: auto; margin-right: 8px; }

        .btn { padding: 15px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 10px; color: white; font-size: 18px; }
        .btn-azul { background: #3498db; }
        .btn-naranja { background: #e67e22; }
        .btn-rojo { background: #e74c3c; padding: 5px 10px; font-size: 14px; width: auto; margin: 0; }

        .comanda { background: #fff; border: 2px solid #000; padding: 20px; margin-top: 20px; color: #000; font-size: 22px; font-family: 'Courier New', Courier, monospace; }
        .header-ticket { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 10px; }
        .linea-item { border-bottom: 1px solid #ddd; padding: 10px 0; }
        .fila-superior { display: flex; justify-content: space-between; align-items: center; }
        .total { font-size: 28px; text-align: right; margin-top: 20px; font-weight: bold; border-top: 3px solid #000; padding-top: 10px; }
    </style>
</head>
<body>

    <div class="contenedor">
        <div class="no-imprimir">
            <h1 style="text-align: center; color: #d35400; margin-bottom: 5px;">üçî Punto de Venta</h1>
            <p style="text-align:center; margin-top:0; font-size: 14px;">La Casa de la Hamburguesa</p>
            
            <div class="formulario">
                <input type="text" id="nombreCliente" placeholder="Nombre del Cliente">
                <input type="text" id="dirCliente" placeholder="Direcci√≥n en Tonal√°">
            </div>

            <div class="formulario">
                <label>Seleccionar Producto:</label>
                <select id="producto" onchange="detectarBoneless()">
                    <optgroup label="Hamburguesas">
                        <option value="50">Cl√°sica - $50</option>
                        <option value="55">Tocino - $55</option>
                        <option value="60">Hawaiana - $60</option>
                        <option value="60">Pollo - $60</option>
                        <option value="60">Arrachera - $60</option>
                        <option value="65">Especial - $65</option>
                        <option value="75">Camar√≥n - $75</option>
                        <option value="75">Hamburguesa BBQ - $75</option>
                    </optgroup>
                    <optgroup label="Boneless">
                        <option value="95">Boneless Orden - $95</option>
                    </optgroup>
                    <optgroup label="Especialidades/Snacks">
                        <option value="25">Hot Dog - $25</option>
                        <option value="70">Baguette - $70</option>
                        <option value="60">Lonche Pierna - $60</option>
                        <option value="60">Burrito Pierna - $60</option>
                        <option value="35">Papas Francesas - $35</option>
                        <option value="40">Papas Gajo - $40</option>
                        <option value="40">Aros Cebolla - $40</option>
                        <option value="50">Nuggets - $50</option>
                        <option value="100">Dedos Queso (10p) - $100</option>
                        <option value="55">Dedos Queso (5p) - $55</option>
                    </optgroup>
                    <optgroup label="Bebidas">
                        <option value="20">Refresco - $20</option>
                        <option value="25">Coca Cola - $25</option>
                    </optgroup>
                </select>

                <div id="seccionBoneless">
                    <label>üçó Sabor de Boneless:</label>
                    <select id="saborBoneless">
                        <option value="B√∫falo">B√∫falo</option>
                        <option value="BBQ">BBQ</option>
                        <option value="Mango Habanero">Mango Habanero</option>
                        <option value="Secos">Secos</option>
                        <option value="Mitad y Mitad">Mitad y Mitad</option>
                    </select>
                </div>

                <div class="opciones-especiales">
                    <label><input type="checkbox" id="sinVerdura"> Sin Verdura</label>
                    <label><input type="checkbox" id="sinAderezos"> Sin Aderezos</label>
                    <label><input type="checkbox" id="conPapas"> + Papas ($15)</label>
                </div>

                <textarea id="notaExtra" rows="1" placeholder="Notas adicionales..."></textarea>
                <input type="number" id="cantidad" value="1" min="1">
                
                <button class="btn btn-azul" onclick="agregarAlTicket()">‚ûï AGREGAR AL PEDIDO</button>
            </div>
        </div>

        <div id="ticket" class="comanda" style="display:none;">
            <div class="header-ticket">
                <h2 style="margin:0;">LA CASA DE LA HAMBURGUESA</h2>
                <div id="fechaHora" style="font-size: 16px;"></div>
            </div>
            <div id="datosEntrega"></div>
            <div id="listaArticulos"></div>
            <div class="total" id="granTotal">TOTAL: $0</div>
        </div>

        <div class="no-imprimir" id="acciones" style="display:none;">
            <button class="btn btn-naranja" onclick="window.print()">üñ®Ô∏è IMPRIMIR TICKET</button>
            <button class="btn" style="background:#7f8c8d;" onclick="nuevaVenta()">üîÑ NUEVA VENTA</button>
        </div>
    </div>

    <script>
        let carrito = [];

        function detectarBoneless() {
            let p = document.getElementById('producto');
            let seccionB = document.getElementById('seccionBoneless');
            seccionB.style.display = p.options[p.selectedIndex].text.includes("Boneless") ? "block" : "none";
        }

        function agregarAlTicket() {
            let select = document.getElementById('producto');
            let nombre = select.options[select.selectedIndex].text.split(" -")[0];
            let precio = parseInt(select.value);
            let cant = parseInt(document.getElementById('cantidad').value);
            let extras = [];
            
            if (nombre.includes("Boneless")) {
                let sabor = document.getElementById('saborBoneless').value;
                nombre += " (" + sabor + ")";
            }

            if (document.getElementById('sinVerdura').checked) extras.push("S/VERDURA");
            if (document.getElementById('sinAderezos').checked) extras.push("S/ADEREZOS");
            if (document.getElementById('conPapas').checked) { precio += 15; extras.push("+PAPAS"); }
            
            let nota = document.getElementById('notaExtra').value;
            if (nota) extras.push("NOTA: " + nota);

            // Guardamos cada item con un ID √∫nico basado en el tiempo para poder borrarlo luego
            carrito.push({
                id: Date.now(),
                nombre: nombre,
                cant: cant,
                subtotal: precio * cant,
                detalles: extras.join(" | ")
            });

            actualizarVista();
            resetFormulario();
        }

        function eliminarItem(id) {
            // Filtramos el carrito para quitar el elemento que tenga ese ID
            carrito = carrito.filter(item => item.id !== id);
            actualizarVista();
        }

        function actualizarVista() {
            if (carrito.length === 0) {
                document.getElementById('ticket').style.display = "none";
                document.getElementById('acciones').style.display = "none";
                return;
            }

            document.getElementById('ticket').style.display = "block";
            document.getElementById('acciones').style.display = "block";
            document.getElementById('fechaHora').innerHTML = new Date().toLocaleString();
            
            let nom = document.getElementById('nombreCliente').value || "P√öBLICO GENERAL";
            let dir = document.getElementById('dirCliente').value || "MOSTRADOR";
            document.getElementById('datosEntrega').innerHTML = `<b>CLI:</b> ${nom}<br><b>DIR:</b> ${dir}<hr>`;

            let html = ""; let total = 0;
            carrito.forEach(item => {
                total += item.subtotal;
                html += `
                    <div class="linea-item">
                        <div class="fila-superior">
                            <span><b>${item.cant}x</b> ${item.nombre}</span>
                            <span>$${item.subtotal}</span>
                            <button class="btn btn-rojo no-imprimir" onclick="eliminarItem(${item.id})">üóëÔ∏è</button>
                        </div>
                        <div style="font-size: 18px; color: #444;">${item.detalles}</div>
                    </div>`;
            });
            document.getElementById('listaArticulos').innerHTML = html;
            document.getElementById('granTotal').innerHTML = "TOTAL: $" + total;
        }

        function resetFormulario() {
            document.getElementById('sinVerdura').checked = false;
            document.getElementById('sinAderezos').checked = false;
            document.getElementById('conPapas').checked = false;
            document.getElementById('notaExtra').value = "";
            document.getElementById('cantidad').value = 1;
        }

        function nuevaVenta() {
            if(confirm("¬øBorrar todo el pedido actual?")) {
                carrito = [];
                document.getElementById('nombreCliente').value = "";
                document.getElementById('dirCliente').value = "";
                actualizarVista();
            }
        }
    </script>
</body>
</html>
